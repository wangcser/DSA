# 寻找重复的子树
> Author ID.9276

## 01 题目

给定一棵二叉树，返回所有重复的子树。对于同一类的重复子树，你只需要返回其中任意**一棵**的根结点即可。

两棵树重复是指它们具有相同的结构以及相同的结点值。

**示例 1：**

```
        1
       / \
      2   3
     /   / \
    4   2   4
       /
      4
```

下面是两个重复的子树：

```
      2
     /
    4
```

和

```
    4
```

因此，你需要以列表的形式返回上述重复子树的根结点。

## 02 分析

unordered_map<string, int> m
key为当前节点的前序遍历的字符串序列化结果

value为对应序列出现的次数

在遍历过程中，如果value的值等于2，则把该节点的值加到res中，注意只加value==2的结果，避免重复添加。

代码如下：

string helper(TreeNode* root, unordered_map<string, int> &m, vector<TreeNode*> &res) {
	if (!root) {
		return "#";
	}
	string s = to_string(root->val) + "," + helper(root->left, m, res) + "," + helper(root->right, m, res);	
	m[s]++;
	if (m[s] == 2) {
		res.push_back(root);
	}
	return s;
}
vector<TreeNode*> findDuplicateSubtrees(TreeNode* root) {
	vector<TreeNode*> res;
	if (!root) {
		return res;
	}
	unordered_map<string, int> m;
	helper(root, m, res);
	return res;
}

---------------------
作者：麦田里的哈士奇 
来源：CSDN 
原文：https://blog.csdn.net/qq_26410101/article/details/80595873 
版权声明：本文为博主原创文章，转载请附上博文链接！



子串和子树是一一对应的吗？

## 03 题解

### 3.1 C++

```c++
//version 1.0 0.0%

```

### 3.2 Python 3

```python
# version 1.0 0.0%

```

### 3.3 Go

```Go
//version 1.0 0.0%

```



## 04 总结

