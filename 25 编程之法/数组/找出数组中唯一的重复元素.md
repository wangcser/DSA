# 找出数组中唯一的重复元素
> Author ID.9276 

**问题关键词：**

- 

## 01 题目

1-1000放在含有1001个元素的数组中，只有唯一的一个元素值重复，其它均只出现一次。 每个数组元素只能访问一次，设计一个算法，将它找出来；不用辅助存储空间，能否设计一个算法实现？

## 02 输入分析



## 03 解题思路

### 3.1 基础解法

#### 求和法

- 算出 1 ～ 1000 的和
- 然后遍历序列做差即可

### 3.2 优化

#### 位图法

- 这类判断在或不在集合中的问题可以使用 hash 或者更进一步的，位图法
  - 先将bit-map所有位标记为1，然后将数组循环一遍，依次将每个元素读入bit-map，如果对应位为0，则标记为1，如果对应位为1，则该数便是要求的结果。该方法也只用遍历数组一次
- 缺点在于空间占用， 需要 1000 bit

#### 异或法

- 借助异或运算：
  - A ^ A = 0
  - A ^ B = 1
  - 1 ^ B = ~B
  - 0 ^ B = B
  - 所以数组 arr[N] 中的 N 个数异或结果 与 1 至 N - 1 异或的结果再做异或，得到的值即为所求
- 设 1～1000 的异或结果为 A，多的数字为 B，则有：
  - A ^ (A ^ B) = (A ^ A) ^ B = 0 ^ B = B

## 04 问题总结

位图可以看作是一种特殊的 hash 法：

- 每个数字单调递增且互斥，是一种很完美的 hash 函数
- 位图通过使用 位数组 来表示某些元素是否存在，位数组中的元素取值非0即1，没有其他可能，而且真正使用位图法时，一定会涉及到位运算，如’ | ’ 、’ & ‘和‘<< ’ 等位运算
-  如果只是使用了位运算中“非0即1“的思想来判重，而没有使用“位数组 ＋ 位运算“，那么我认为称呼这类方法为hash法更合适一些，不应该称为位图法
- 因为需要用到位运算，所以位图法一般只适用于“非重复的正整数的排序“、查找、判重、删除